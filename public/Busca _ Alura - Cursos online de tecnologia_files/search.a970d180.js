var Search=function(e,a,t,n,i,r,s){var o={endpoint:"https://api.addsearch.com/v1/search/",json:void 0,isForum:s,categories:"0x"+t.salesUrl.replace("https://",""),qtyOfResultPages:void 0,currentPageNumber:void 0,searchTerm:void 0,searchPage:void 0,loadingContainer:$(".paginacao-pagina"),pageSlogan:void 0,resultLimit:25,searchMaximumLength:150};o.request=function(){return o.loadingContainer.addClass("paginacao-pagina--loading"),$.ajax({url:o.buildUrl()})},o.buildUrl=function(){var e=o.endpoint+"?limit="+o.resultLimit+"&term="+o.searchSimilarTo(o.truncateTerm(o.searchTerm))+"&page="+o.currentPageNumber;return o.isForum||(e+="&categories="+o.categories),e},o.searchSimilarTo=function(e){return e.length<o.searchMaximumLength?e+"~":e.substring(0,o.searchMaximumLength-1)+"~"},o.truncateTerm=function(e){return e.substring(0,o.searchMaximumLength).split(" ").slice(0,10).join(" ")},o.initialize=function(){o.hasSearchResults()?o.searchPage.emptyResultNotification():o.searchPage.showNavigation(),o.qtyOfResultPages=Math.ceil(o.json.total_hits/o.resultLimit),o.json.hits=o.resultSanitizer.sanitizeAll(o.json.hits),o.cleanNullResults(o.json.hits),o.searchPage.populateSearchPage(o.json.hits),new Pagination(o.searchTerm,o.currentPageNumber,o.path,o.parameter).populatePaginationLinks(o.qtyOfResultPages),new PaginationControl(o.searchTerm,o.currentPageNumber,o.qtyOfResultPages,o.path,o.parameter)},o.hasSearchResults=function(){return o.json.total_hits<1},o.cleanNullResults=function(e){e.forEach(function(e){Object.keys(e).forEach(function(a){e[a]=e[a]?e[a]:""})})},function(e,a,t,n,i,r){o.path=n,o.parameter=i,o.endpoint+=t.addSearchKey,o.pageSlogan=t.pageSlogan,o.currentPageNumber=e,o.searchTerm=a,o.searchPage=new SearchPage(t.salesUrl,t.host,r,s),o.resultSanitizer=new ResultSanitizer(t.pageSlogan),""!==a?o.request().then(function(e){o.json=e,o.initialize(),o.loadingContainer.removeClass("paginacao-pagina--loading")},function(e){o.loadingContainer.removeClass("paginacao-pagina--loading"),o.searchPage.emptyResultNotification()}):o.searchPage.noQueryParameterNotification()}(e,a,t,n,i,r)};